<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Collective Consensus Visualization</title>
    <style>
      body, html { margin:0; padding:0; height:100%;}
      #heatmapContainerWrapper { width:100%; height:100%; position:absolute; }
      #heatmapContainer { width:100%; height:100%;}
      h1 { position:absolute; background:white; padding:10px;}
    </style>
    <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
    <script src="../js/deque.js"></script>
    <script src="../js/parseData.js"></script>

  </head>
  <body>
    <div id="heatmapContainerWrapper">
      <div id="heatmapContainer">

      </div>
    </div>
    <script src="../js/heatmap.js"></script>
    <script>


      var minFreq = 880;
      var maxFreq = 1760;

      $(document).ready(function () {

        // create heatmap instance
        var heatmap = h337.create({
          container: document.getElementById('heatmapContainer'),
          // a waterdrop gradient ;-)
          gradient: { 0: 'lightyellow', 0.1:'gold', 0.75: 'orangered', 1:'crimson'},
          minOpacity: .9,
          maxOpacity: .9,
          radius: 50,
          blur: 0.1
        });

        // boundaries for data generation
        var xMax = 10;
        var yMax = 10;
        var width = (+window.getComputedStyle(document.body).width.replace(/px/,''));
        var height = (+window.getComputedStyle(document.body).height.replace(/px/,''));

        var update = function() {
          freqData.refresh(heatmap, width, height, xMax, yMax);
        };

        update();
        setInterval(update, 5000);


      });
    </script>
  </body>
</html>
